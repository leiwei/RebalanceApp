if(document.addEventListener)document.addEventListener("DOMContentLoaded",fireDOMContentLoaded,false);else var timer=setInterval(function(){try{document.body.doScroll("left");fireDOMContentLoaded();clearInterval(timer)}catch($){}},10);function fireDOMContentLoaded(){initSuggest();lazyLoadSkin();rcdFT()}var aa;function initSuggest(){if(youdaos){youdaos.Autocomplete.prototype.showContent=function(){var _=document.getElementById("qc"),$=youdaos.dimension.cumOffset(_);this.sdiv.className="sw";this.sdiv.style.top=$[1]+_.offsetHeight+"px";this.sdiv.style.left=$[0]+"px";this.sdiv.style.cursor="default";this.sdiv.style.width=_.offsetWidth-2+"px";youdaos.dom.show(this.sdiv);this.vis=true;this.curNodeIdx=-1};aa=new youdaos.Autocomplete("query","aa","http://www.youdao.com/suggest2");aa.setLogServer("http://wsuggest.ydstatic.com/suggest");aa.setSearchServer("http://www.youdao.com/search?");aa.setKeyFrom("web");aa.setSearchMoreParams(filterParams);var $=document.getElementById("aca");youdaos.events.listen($,"click",youdaos.bind(aa.pressPoint,aa));youdaos.events.listen($,"mouseover",youdaos.bind(aa.removeBoxBlur,aa));youdaos.events.listen($,"mouseout",youdaos.bind(aa.revertBoxBlur,aa))}}function seturl(B,_,$,A){B.href="http://"+$+".youdao.com/";if(window.RegExp&&window.encodeURIComponent){_=document.getElementById(_).value;if(_!=""){_=_.replace(/(link:)|(inlink:)|(^related:)/,"");B.href=B.href+"search?q="+encodeURIComponent(_)+"&keyfrom="+A}}return 1}function deleteHistory(){document.cookie="youdao_history=1;path=/search;expires="+(new Date("2066/6/6")).toGMTString();location.reload()}function ctlog(B,C,_,A){var $=new Image;$.src="ctlog?q="+C+"&url="+encodeURIComponent(B.href)+"&pos="+_+"&action="+A;return true}function ctlog(C,D,A,B,$){var _=new Image;_.src="ctlog?q="+D+"&url="+encodeURIComponent(C.href)+"&pos="+A+"&action="+B+"&srst="+$;return true}var ctImagesCache=[];function ct(C,D,A,B,$,_,E){var F=new Image;if(typeof E=="undefined")E="";else if(E.length>0&&E[0]!="&")E="&"+E;F.src="ctlog?q="+D+"&url="+encodeURIComponent(C.href)+"&pos="+A+"&modifiers="+$+"&action="+B+"&hitSource="+_+E;ctImagesCache.push(F);return true}function rcdSBT(){var $=new Date().getTime();document.cookie="sbt="+$+";path=/;domain="+document.domain+";";return true}function rcdFT(){var _=new Date().getTime(),B="",A="sbt=",$=document.cookie.split(";");for(var C=0;C<$.length;C++){idx=$[C].indexOf(A);if(idx>=0){B=$[C].substring(idx+A.length,$[C].length);break}}if(B!=""){C=new Image();C.src="stlog?sbt="+B+"&sft="+_}document.cookie="sbt=;path=/;domain="+document.domain+";"}(function($){$(function(){$("#mt").hasMenu("#ym",".pm",0,17);$("#mn").hasMenu("#nm",".pm",0,17);$("#deleteHistory").hasMenu("#historyConfirm",".pm",0,15);$("#recommenderWidget li a,#historyWidget li a").each(function(){$this=$(this);$this.height()>$this.parent("li").height()?$this.attr("title",$this.text()):null});var F=$("#s"),H=$("#c");$body=$("body");$w=$("#w");var D="side-collapsed",A=$w.hasClass(D),C=$("#sideBarButton"),_=$("<div style=\"position:absolute;left:0;top:10px;width:13px;height:20px;cursor:pointer\">&nbsp;</div>").css("cursor","pointer").click(G).hover(function(){C.addClass("sidebarButton-over")},function(){C.removeClass("sidebarButton-over")});C.append(_);var E=new Date(),B=new Date();B.setTime(E.getTime()+1000*60*60*24*365*10);function G(){if(A){C.removeClass("sidebarButton-over").attr("title","\u5173\u95ed\u5de6\u680f\u5bfc\u822a");if(navigator.userAgent.indexOf("MSIE 6")>-1&&navigator.userAgent.indexOf("MSIE 8")<0)F.animate({left:170});$w.animate({paddingLeft:170},function(){$w.toggleClass(D)});A=false;document.cookie="resultSideCollapse="+A+";expires="+B.toGMTString()}else{C.removeClass("sidebarButton-over").attr("title","\u6253\u5f00\u5de6\u680f\u5bfc\u822a");if(navigator.userAgent.indexOf("MSIE 6")>-1&&navigator.userAgent.indexOf("MSIE 8")<0)F.animate({left:0});$w.animate({paddingLeft:20},function(){$w.toggleClass(D)});A=true;document.cookie="resultSideCollapse="+A+";expires="+B.toGMTString()}}});$.fn.extend({hasMenu:function(E,D,C,B){var A=$(E),_=$(D);$("body").click(function(){_.hide()});this.click(function(){var D=$(this).offset();_.each(function(){if("#"+$(this).attr("id")!=E)$(this).hide()});$(this).blur();A.css({position:"absolute","z-index":1000,left:D.left+C,top:D.top+B}).toggle();return false});return this}})})(jQuery);var ydPrv={};ydPrv.util=function(){return{stopEvent:function($){this.stopPropagation($);this.preventDefault($);return false},stopPropagation:function($){if($.stopPropagation)$.stopPropagation();else $.cancelBubble=true},preventDefault:function($){if($.preventDefault)$.preventDefault();else $.returnValue=true}}}();ydPrv.gvar=function(){return{nOverTimeout:150,nLeftColumnWidth:130,nDefSummaryWidth:510,nWinLeftIndent:70,nMinPrvWinWidth:400,nMaxPrvWinWidth:800,nMinPrvWinHeight:350,nMaxPrvWinHeight:650,animateTime:200}}();var g_eCurPrv=null,g_prvPrv=null,g_nOverTimer=null,g_winWidth=0,g_clickPrvWin=0,g_openTime=0,g_title=null,g_encodedQuery=null,g_pos=0,forbiddenHint="\u9884\u89c8\u5185\u5bb9\u6709\u53ef\u80fd\u4e0d\u7b26\u5408\u76f8\u5173\u6cd5\u5f8b\uff0c\u9884\u89c8\u4e0d\u80fd\u88ab\u663e\u793a\u3002",prvCache={};(function(){jQuery(".preview").unbind().click(function($){ydPrv.util.stopPropagation(window.event||$)}).mouseover(function(){var $=this;g_nOverTimer=setTimeout(function(){if(g_eCurPrv!=$){(g_prvPrv=g_eCurPrv)&&closePreviewWin(0);openPreviewWin($)}},ydPrv.gvar.nOverTimeout)}).mouseout(function(){if(g_nOverTimer){clearTimeout(g_nOverTimer);g_nOverTimer=null}});jQuery("#close_prv").unbind().click(function($){closePreviewWin(1);if(g_nOverTimer){clearTimeout(g_nOverTimer);g_nOverTimer=null}ydPrv.util.stopPropagation(window.event||$)});jQuery(document).click(function(){g_eCurPrv&&g_clickPrvWin==0&&closePreviewWin(2);g_clickPrvWin=0});jQuery("#prv-window").mousedown(function(){g_clickPrvWin=1});jQuery("#find_next").unbind().click(function($){document.getElementById("view_content").scrollTop=$})})();function loadData(D,B,_,C,F,$,E,A){jQuery.ajax({type:"GET",url:"/preview?queryString="+D+"&encryptedTerms="+B+"&docId="+_+"&url="+C+"&sliceId="+F+"&encoding=UTF-8&isAttackSite="+A,cache:false,success:function($){if($==null||$.length<=0){jQuery("#view_content").html("<center>\u5bf9\u4e0d\u8d77\uff0c\u672c\u7f51\u9875\u65e0\u6cd5\u8fdb\u884c\u9884\u89c8\u3002</center>");ct(g_title,g_encodedQuery,g_pos,"OPEN_MAG",undefined,undefined,"&cerberus=0&isattack="+A)}else{$.indexOf(forbiddenHint)>=0?ct(g_title,g_encodedQuery,g_pos,"OPEN_MAG",undefined,undefined,"&cerberus=1&isattack="+A):ct(g_title,g_encodedQuery,g_pos,"OPEN_MAG",undefined,undefined,"&cerberus=0&isattack="+A);prvCache[E]=$;jQuery("#view_content").html($);resizeVideo()}}})}function openPreviewWin(E){resetIndex();var C=jQuery(E);g_eCurPrv=E;var A=jQuery("#prv_pseudo");C.find("> a").removeClass().addClass("yl1");var D=C.attr("pos");g_pos=D;E=document.getElementById("preview"+D);E=getAbsolutePos(E);var L=jQuery("#preview"+D),_=getWinScroll(),J=getWinSize(),B=jQuery("#f").height()+jQuery("#pt").height();B=_.top+20<B&&J.height>600?B:_.top+20;if(E.y-20<B)B=E.y-20;jQuery("#prv-window").css("top",B+"px");A.css("top",B+"px");var $=jQuery("#s").width()+20+jQuery("#results").width();if(J.width<1050){$-=120;if(E.x+L.width()+3>$)$=E.x+L.width()+3;if($>590)$=590}jQuery("#prv-window").css("left",$+"px");A.css("left",$+32+"px");L=J.width-$-5;if(L<ydPrv.gvar.nMinPrvWinWidth)L=ydPrv.gvar.nMinPrvWinWidth;if(L>ydPrv.gvar.nMaxPrvWinWidth)L=ydPrv.gvar.nMaxPrvWinWidth;jQuery("#prv-window").css("width",L+"px");g_winWidth=L;var M=C.attr("isAttack");_=J.height-(B-_.top)-85;if(M>0)_-=51;if(_<ydPrv.gvar.nMinPrvWinHeight)_=ydPrv.gvar.nMinPrvWinHeight;if(_>ydPrv.gvar.nMaxPrvWinHeight)_=ydPrv.gvar.nMaxPrvWinHeight;if(B+_<E.y)_=E.y-B;jQuery("#prv-contentid").css("height",_+"px");jQuery(".prv-ml").css("top",E.y-B+"px");jQuery("#view_content").html("<center><img src=\"http://shared.ydstatic.com/r/"+staticVersion+"/p/preview_loading.gif?"+staticTimestamp+"\" /> \u6b63\u5728\u52a0\u8f7d\u9884\u89c8\u4fe1\u606f\uff0c\u8bf7\u7a0d\u5019... ...</center>");var K=C.attr("encodedQuery");g_encodedQuery=K;var I=C.attr("encodedEncryptedTerms"),F=C.attr("docId"),G=C.attr("sliceId");E=jQuery("#hitURL"+D);C=jQuery("#title"+D);g_title=document.getElementById("hitURL"+D);var H=E.attr("href");E="";E=M>0?C.html():"<a href=\""+H+"\" target=\"_blank\" onclick=\"javascript:ct(this, '"+K+"', "+D+", 'MAG_HIT', undefined, undefined, 'magtitle=1')\">"+C.html()+"</a>";jQuery("#title_text").html(E);M>0?jQuery(".prv-dog").css("display","block"):jQuery(".prv-dog").css("display","none");g_openTime=(new Date).getTime();if(g_prvPrv){jQuery("#prv-window").css("display","block");if(prvCache[D]){prvCache[D].indexOf(forbiddenHint)>=0?ct(g_title,g_encodedQuery,g_pos,"OPEN_MAG",undefined,undefined,"&cerberus=1&isattack="+M):ct(g_title,g_encodedQuery,g_pos,"OPEN_MAG",undefined,undefined,"&cerberus=0&isattack="+M);jQuery("#view_content").html(prvCache[D]);resizeVideo()}else loadData(K,I,F,H,G,-1,D,M)}else A.css({width:"0px",height:"0px"}).animate({width:jQuery("#prv-window").width()-32+"px",height:jQuery("#prv-window").height()+"px"},ydPrv.gvar.animateTime,function(){A.hide();jQuery("#prv-window").css("display","block");if(prvCache[D]){prvCache[D].indexOf(forbiddenHint)>=0?ct(g_title,g_encodedQuery,g_pos,"OPEN_MAG",undefined,undefined,"&cerberus=1&isattack="+M):ct(g_title,g_encodedQuery,g_pos,"OPEN_MAG",undefined,undefined,"&cerberus=0&isattack="+M);jQuery("#view_content").html(prvCache[D]);resizeVideo()}else loadData(K,I,F,H,G,-1,D,M)})}function closePreviewWin(_){if(g_openTime>0){var $=((new Date).getTime()-g_openTime)/1000;ct(g_title,g_encodedQuery,g_pos,"MAG_HIT",undefined,undefined,"&viewtime="+$+"&closetype="+_);g_openTime=0}jQuery("#prv-contentid").attr("scrollTop",0);jQuery(g_eCurPrv).find("> a").removeClass().addClass("yl");jQuery("#prv-window").css("display","none");if(g_eCurPrv)g_eCurPrv=null;resetIndex()}function getWinSize(){return{width:jQuery(window).width(),height:jQuery(window).height()}}function getWinScroll(){return{top:jQuery(window).scrollTop(),left:jQuery(window).scrollLeft()}}function previewScrollTo($){navigator.userAgent.toLowerCase().indexOf("msie")!=-1?jQuery("#prv-contentid").attr("scrollTop",$-75):jQuery("#prv-contentid").attr("scrollTop",$-100)}var termNavPosition=new Array(20);function gotoNextKey(B){ct(g_title,g_encodedQuery,g_pos,"MAG_HIT",undefined,undefined,"gotonext=1");var _=termNavPosition[B],$=_+1,A=B+"_"+$;A=document.getElementById(A);_=document.getElementById(B+"_"+_);if(A){previewScrollTo(A.offsetTop);if(_)_.className="";A.className="hlb";termNavPosition[B]=$}else if($==1){previewScrollTo(0);termNavPosition[B]=+0}else{A=B+"_1";A=document.getElementById(A);previewScrollTo(A.offsetTop);if(_)_.className="";A.className="hlb";termNavPosition[B]=1}}function resetIndex(){for(var $=0;$<20;$++)termNavPosition[$]=0}function onLinkClick(){ct(g_title,g_encodedQuery,g_pos,"MAG_HIT",undefined,undefined,"linkclick=1")}function onImgLoad(A){A.onload=null;var _=jQuery(A),$=A.width;if($>g_winWidth-80){$=A.height*(g_winWidth-80)/$;_.css("width",g_winWidth-80);_.css("height",$)}if(A.width<50&&A.height<50)A.style.display="none";else if(A.width<30||A.height<30)A.style.display="none";else{_.before("<br>");_.after("<br>")}}function resizeVideo(){jQuery(".ydPrvVideo").each(function(A,_){A=jQuery(_);_=A.width();var $=A.height();if(_>g_winWidth-80){_=$*(g_winWidth-80)/_;A.width(g_winWidth-80);A.height(_)}})}function getAbsolutePos(A){for(var _=A.offsetLeft,$=A.offsetTop;A=A.offsetParent;){_+=A.offsetLeft;$+=A.offsetTop}A={};A.x=_;A.y=$;return A}